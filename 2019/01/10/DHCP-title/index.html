<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>DHCP 服务搭建 | 黑色褪去，呼唤君之名</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="目录1.DHCP简介 2.DHCP的安装3.DHCP的配置文件4.DHCP的验证 1.DHCP简介DHCP是一个局域网的网络协议，使用UDP协议工作，主要有两个用途：用于内部网或网络服务供应商自动分配IP地址；给用户用于内部网管理员作为对所有计算机作中央管理的手段。DHCP协议采用客户端/服务器模型，主机地址的动态分配任务由网络主机驱动。当DHCP服务器接收到来自网络主机申请地址的信息时，才会向网">
<meta name="keywords" content="linux">
<meta property="og:type" content="article">
<meta property="og:title" content="DHCP 服务搭建">
<meta property="og:url" content="http://yoursite.com/2019/01/10/DHCP-title/index.html">
<meta property="og:site_name" content="黑色褪去，呼唤君之名">
<meta property="og:description" content="目录1.DHCP简介 2.DHCP的安装3.DHCP的配置文件4.DHCP的验证 1.DHCP简介DHCP是一个局域网的网络协议，使用UDP协议工作，主要有两个用途：用于内部网或网络服务供应商自动分配IP地址；给用户用于内部网管理员作为对所有计算机作中央管理的手段。DHCP协议采用客户端/服务器模型，主机地址的动态分配任务由网络主机驱动。当DHCP服务器接收到来自网络主机申请地址的信息时，才会向网">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://107.181.153.71/blog/DHCPpng/DHCP1.png">
<meta property="og:image" content="http://107.181.153.71/blog/DHCPpng/DHCP2.png">
<meta property="og:image" content="http://107.181.153.71/blog/DHCPpng/DHCP3.png">
<meta property="og:image" content="http://107.181.153.71/blog/DHCPpng/DHCP4.png">
<meta property="og:image" content="http://107.181.153.71/blog/DHCPpng/DHCP5.png">
<meta property="og:updated_time" content="2019-01-10T12:51:36.489Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="DHCP 服务搭建">
<meta name="twitter:description" content="目录1.DHCP简介 2.DHCP的安装3.DHCP的配置文件4.DHCP的验证 1.DHCP简介DHCP是一个局域网的网络协议，使用UDP协议工作，主要有两个用途：用于内部网或网络服务供应商自动分配IP地址；给用户用于内部网管理员作为对所有计算机作中央管理的手段。DHCP协议采用客户端/服务器模型，主机地址的动态分配任务由网络主机驱动。当DHCP服务器接收到来自网络主机申请地址的信息时，才会向网">
<meta name="twitter:image" content="http://107.181.153.71/blog/DHCPpng/DHCP1.png">
  
    <link rel="alternate" href="/atom.xml" title="黑色褪去，呼唤君之名" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/plugin/bganimation/bg.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <div class="outer">
        <div class="widget-wrap mobile-header">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <img class="avatar" src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1539771691520&amp;di=e0fc0ad09fb5dc783368f8fa3d5a109b&amp;imgtype=0&amp;src=http%3A%2F%2Fimg1.touxiang.cn%2Fuploads%2F20120916%2F16-015401_11.jpg">
    <h2 class="author">拜咯</h2>
    <h3 class="description">小小白</h3>
    <div class="count-box">
      <a href="/archives"><div><strong>9</strong><br>文章</div></a>
      <a href="/categories"><div><strong>0</strong><br>分类</div></a>
      <a href="/tags"><div><strong>4</strong><br>标签</div></a>
    </div>
    <ul class="blog-link">
     
          <a href="/" title="Home">
            <li>主页</li>
          </a>
        
          <a href="/archives" title="Archives">
            <li>归档</li>
          </a>
        
          <a href="/categories" title="Categories">
            <li>分类</li>
          </a>
        
          <a href="/tags" title="Tags">
            <li>标签</li>
          </a>
        
    </ul>
  </div>
</div>

        <section id="main"><article id="postst-DHCP-title" class="wow slideInRight article article-type-postst" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/01/10/DHCP-title/" class="article-date">
  <time class="post-time" datetime="2019-01-10T05:32:39.000Z" itemprop="datePublished">
    <span class="post-month">1月</span><br/>
    <span class="post-day">10</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      DHCP 服务搭建
    </h1>
  

        <div>
          
          
        </div>
      </header>
    
<div class="article-entry" itemprop="articleBody">
  
  	
  	
  	  <h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><p><a id="1" href="#1.1">1.DHCP简介 </a><br><a id="2" href="#1.2">2.DHCP的安装</a><br><a id="3" href="#1.3">3.DHCP的配置文件</a><br><a id="4" href="#1.4">4.DHCP的验证</a></p>
<h2 id="1-DHCP简介"><a href="#1-DHCP简介" class="headerlink" title="1.DHCP简介"></a><p id="1.1"><a href="#1"><li>1.DHCP简介</li></a></p></h2><p><strong>DHCP</strong>是一个局域网的网络协议，使用UDP协议工作，主要有两个用途：用于内部网或网络服务供应商自动分配IP地址；给用户用于内部网管理员作为对所有计算机作中央管理的手段。<br>DHCP协议采用客户端/服务器模型，主机地址的动态分配任务由网络主机驱动。当DHCP服务器接收到来自网络主机申请地址的信息时，才会向网络主机发送相关的地址配置等信息，以实现网络主机地址信息的动态配置。</p>
<h3 id="DHCP具有以下功能："><a href="#DHCP具有以下功能：" class="headerlink" title="DHCP具有以下功能："></a>DHCP具有以下功能：</h3><ol>
<li>保证任何IP地址在同一时刻只能由一台DHCP客户机所使用。</li>
<li>DHCP应当可以给用户分配永久固定的IP地址。</li>
<li>DHCP应当可以同用其他方法获得IP地址的主机共存（如手工配置IP地址的主机）。</li>
<li>DHCP服务器应当向现有的BOOTP客户端提供服务。<br>在支持DHCP功能的网络设备上将指定的端口作为DHCP Client，通过DHCP协议从DHCP Server动态获取IP地址等信息，来实现设备的集中管理。一般应用于网络设备的网络管理接口上。</li>
</ol>
<h3 id="DHCP客户端可以带来如下好处："><a href="#DHCP客户端可以带来如下好处：" class="headerlink" title="DHCP客户端可以带来如下好处："></a>DHCP客户端可以带来如下好处：</h3><p>降低了配置和部署设备时间。<br>降低了发生配置错误的可能性。<br>可以集中化管理设备的IP地址分配。</p>
<h3 id="DHCP有三种机制分配IP地址："><a href="#DHCP有三种机制分配IP地址：" class="headerlink" title="DHCP有三种机制分配IP地址："></a>DHCP有三种机制分配IP地址：</h3><p>1) 自动分配方式（Automatic Allocation），DHCP服务器为主机指定一个永久性的IP地址，一旦DHCP客户端第一次成功从DHCP服务器端租用到IP地址后，就可以永久性的使用该地址。<br>2) 动态分配方式（Dynamic Allocation），DHCP服务器给主机指定一个具有时间限制的IP地址，时间到期或主机明确表示放弃该地址时，该地址可以被其他主机使用。<br>3) 手工分配方式（Manual Allocation），客户端的IP地址是由网络管理员指定的，DHCP服务器只是将指定的IP地址告诉客户端主机。</p>
<h2 id="2-DHCP的安装"><a href="#2-DHCP的安装" class="headerlink" title="2.DHCP的安装"></a><p id="1.2"><a href="#2"><li>2.DHCP的安装</li></a></p></h2><h3 id="查看已经安装了DHCP服务或查看已经安装了何种版本。"><a href="#查看已经安装了DHCP服务或查看已经安装了何种版本。" class="headerlink" title="查看已经安装了DHCP服务或查看已经安装了何种版本。"></a>查看已经安装了DHCP服务或查看已经安装了何种版本。</h3><blockquote>
<p>1、先查看DHCP的安装情况 :  # yum list dhcp*<br>2、 安装DHCP ：  # yum install dhcp -y</p>
</blockquote>
<h2 id="3-DHCP的配置文件"><a href="#3-DHCP的配置文件" class="headerlink" title="3.DHCP的配置文件"></a><p id="1.3"><a href="#3"><li>3.DHCP的配置文件</li></a></p></h2><blockquote>
<p>编辑/etc/dhcp/dhcpd.conf文件。需要注意的是，/etc/dhcp/dhcpd.conf文件并没有实质性配置内容(可能该文件根本不存在，需要自己创建)，但可复制和参考/usr/share/doc/dhcp4.2.5目录下的dhcpd.conf.sample文件。<br> # cp/usr/share/doc/dhcp4.2.5/dhcpd.conf.sample /etc/dhcp/dhcpd.conf <br> # Vim /etc/dhcp/dhcpd.cond</p>
</blockquote>
<p><img src="http://107.181.153.71/blog/DHCPpng/DHCP1.png" alt=""><br><strong>1、dhcpd.conf文件中常用的声明及功能</strong></p>
<blockquote>
<p>shared-network声明用来告诉DHCP服务器哪些IP子网属于一个物理网络<br>subnet 和netmask分别代表网段号和子网掩码号。可以按需求选择三种private ip中的任意一种。<br>ddns-update-style none;  #配置DHCP-DNS 互动更新模式<br>ignore client-updates;  #忽略客户端更新此参数只在服务器端使用next-server 10.5.5.120; #设置服务器从引导文件中装如主机名，应用于无盘工作站<br>option domain-name “example.org”; #为客户端指明DNS名字<br>option domain-name-servers ns1.example.org, ns2.example.org; #为客户端指明DNS服务器IP地址<br>default-lease-time 600; #IP租约时间，单位为秒<br>max-lease-time 7200; #最长租赁时间，单位为秒<br>allow booting; #响应激活查询<br>allow bootp;  #响应使用者查询log-facility local7;<br>filename “pxelinux.0” ; #开始启动文件的名称，应用于无盘工作站<br>hogroup为一组参数提供声明<br>allow bootp;deny bootp #是否响应激活查询<br>allow booting﹔deny booting #是否响应使用者查询<br>subnet-mask #为客户端设定子网掩码<br>domain-name #为客户端指明DNS名字<br>domain-name-servers # 为客户端指明DNS服务器的IP地址<br>host-name #为客户端指定主机名称<br>Routers #为客户端设定默认网关<br>broadcast-address #为客户端设定广播地址<br>ntp-server #为客户端设定网络时间服务器的IP地址<br>time-offset #为客户端设定格林威治时间的偏移时间，单位是秒</p>
</blockquote>
<p><strong>2、DHCP配置文件中常用的parameters (参数)及功能</strong></p>
<blockquote>
<p>ddns-update-style 类型 ：定义所支持的DNS动态更新类型（必选）<br>allow/ignore client-updates ：允许/忽略客户机更新DNS记录<br>default-lease-timse 数字 ：指定默认的租约期限<br>max-lease-time 数字 ：指定最大租约期限<br>hardware 硬件类型 MAC地址 ：指定网卡接口类型和MAC地址<br>server-name 主机名 ：通知DHCP客户机服务器的主机名<br>fixed-address  IP地址：分配给客户端一个固定的IP地址 </p>
</blockquote>
<h2 id="4-验证DHCP"><a href="#4-验证DHCP" class="headerlink" title="4.验证DHCP"></a><p id="1.4"><a href="#4"><li>4.验证DHCP</li></a></p></h2><blockquote>
<p>启动DHCP服务 ： # systemctl start dhcpd<br>客户端使用以太网连接交换机 设置自动获取iP<br>先试试主机和虚拟机可不可以互通</p>
</blockquote>
<p><img src="http://107.181.153.71/blog/DHCPpng/DHCP2.png" alt=""><br><img src="http://107.181.153.71/blog/DHCPpng/DHCP3.png" alt=""></p>
<blockquote>
<p>ipconfig /release   删除获取的IP地址<br>ipconfig /renew     重新获取的IP地址<br>ipconfig /all       查看全部网络信息</p>
</blockquote>
<p><img src="http://107.181.153.71/blog/DHCPpng/DHCP4.png" alt=""></p>
<blockquote>
<p>查看IP是否在设定的IP地址内</p>
</blockquote>
<p><strong>1、DHCP地址租约信息文件</strong></p>
<blockquote>
<p>DHCP的租约文件默认在/var/lib/dhcpd/ 中的dhcpd.leases。文件包含租约声明，记录DHCP服务器分配出去的IP地址及相关客户端信息。</p>
</blockquote>
<p><img src="http://107.181.153.71/blog/DHCPpng/DHCP5.png" alt=""></p>
<blockquote>
<p>设置开机自动加载DHCP服务：# systemctl enable dhcpd</p>
</blockquote>

  	
  
</div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/01/10/DHCP-title/" data-id="cju0vczet00001svgvr2wmi2z" class="article-share-link">分享</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/">linux</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2019/01/10/FTP-title/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">上一篇</strong>
      <div class="article-nav-title">
        
          FTP title
        
      </div>
    </a>
  
  
    <a href="/2018/12/29/Hexo+Gibhub搭建博客/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">下一篇</strong>
      <div class="article-nav-title">Hexo+Gibhub搭建博客</div>
    </a>
  
</nav>

  
</article>



</section>
        
          <aside id="sidebar">
  
    <div class="widget-wrap">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <h1 class="blog-title">黑色褪去，呼唤君之名</h1>
    <h2 class="blog-subtitle">她的眼睛会笑</h2>
    <ul class="blog-link">
     
          <a href="/" title="Home">
            <li>主页</li>
          </a>
        
          <a href="/archives" title="Archives">
            <li>归档</li>
          </a>
        
          <a href="/categories" title="Categories">
            <li>分类</li>
          </a>
        
          <a href="/tags" title="Tags">
            <li>标签</li>
          </a>
        
    </ul>
  </div>
</div>

  
    <div class="widget-wrap">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <img class="avatar" src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1539771691520&amp;di=e0fc0ad09fb5dc783368f8fa3d5a109b&amp;imgtype=0&amp;src=http%3A%2F%2Fimg1.touxiang.cn%2Fuploads%2F20120916%2F16-015401_11.jpg">
    <h2 class="author">拜咯</h2>
    <h3 class="description">小小白</h3>
    <div class="count-box">
      <a href="/archives"><div><strong>9</strong><br>文章</div></a>
      <a href="/categories"><div><strong>0</strong><br>分类</div></a>
      <a href="/tags"><div><strong>4</strong><br>标签</div></a>
    </div>



    <div class="social-link">
      
        <a class="hvr-bounce-in" href="https://github.com/13bailo" target="_blank" title="Github">
          Github
        </a>
      
    </div>

    <div class="friend-link">
      <h2>友情链接</h2>
      
        <a class="hvr-bounce-in" href="" target="_blank" title="ShanaMaid">
          ShanaMaid
        </a>
      
    </div>
  </div>
</div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy;2018 - 2019 拜咯<br>
      由<a href="http://hexo.io/" target="_blank">Hexo</a>强力驱动 | 
      主题-<a href="https://github.com/ShanaMaid/hexo-theme-shana">Shana</a>
      
    </div>
    
  </div>
</footer>
    </div>
    

<script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="//apps.bdimg.com/libs/wow/0.1.6/wow.min.js"></script>
<script>
new WOW().init();
</script>   


  <link rel="stylesheet" href="/plugin/fancybox/jquery.fancybox.css">
  <script src="/plugin/fancybox/jquery.fancybox.pack.js"></script>



  <link rel="stylesheet" href="/plugin/galmenu/GalMenu.css">
  <script src="/plugin/galmenu/GalMenu.js"></script>
  <div class="GalMenu GalDropDown">
      <div class="circle" id="gal">
        <div class="ring">
          
            <a href="/" title="" class="menuItem">首页</a>
          
            <a href="/tags" title="" class="menuItem">标签</a>
          
            <a href="/categories" title="" class="menuItem">分类</a>
          
            <a href="/archives" title="" class="menuItem">归档</a>
          
            <a href="/xxxxxxxxx" title="" class="menuItem">xxx</a>
          
            <a href="/xxxxxxx" title="" class="menuItem">xxxx</a>
          
        </div>
        
          <audio id="audio" src="#"></audio>
        
      </div> 
</div>
<div id="overlay" style="opacity: 1; cursor: pointer;"></div>
  <script type="text/javascript">var items = document.querySelectorAll('.menuItem');
    for (var i = 0,
    l = items.length; i < l; i++) {
      items[i].style.left = (50 - 35 * Math.cos( - 0.5 * Math.PI - 2 * (1 / l) * i * Math.PI)).toFixed(4) + "%";
      items[i].style.top = (50 + 35 * Math.sin( - 0.5 * Math.PI - 2 * (1 / l) * i * Math.PI)).toFixed(4) + "%"
    }</script>
<script type="text/javascript">
  $(document).ready(function() {
    $('body').GalMenu({
      'menu': 'GalDropDown'
    })
  });
</script>

  <section class="hidden-xs"> 
  <ul class="cb-slideshow"> 
    <li><span>苟利</span></li> 
    <li><span>国家</span></li> 
    <li><span>生死以</span></li> 
    <li><span>岂能</span></li> 
    <li><span>祸福</span></li> 
    <li><span>趋避之</span></li> 
  </ul>
</section>
<script src="/js/script.js"></script>



  </div>
</body>
</html>